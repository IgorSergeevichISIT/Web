{"version":3,"sources":["../src/index.ts","../src/menu.anatomy.ts","../src/menu.connect.ts","../src/menu.dom.ts","../src/menu.machine.ts","../src/menu.props.ts"],"sourcesContent":["export type { FocusOutsideEvent, InteractOutsideEvent, PointerDownOutsideEvent } from \"@zag-js/dismissable\"\nexport { anatomy } from \"./menu.anatomy\"\nexport { connect } from \"./menu.connect\"\nexport { machine } from \"./menu.machine\"\nexport * from \"./menu.props\"\nexport type {\n  MachineApi as Api,\n  UserDefinedContext as Context,\n  HighlightChangeDetails,\n  ItemGroupLabelProps,\n  ItemGroupProps,\n  ItemProps,\n  ItemState,\n  OpenChangeDetails,\n  OptionItemProps,\n  OptionItemState,\n  Point,\n  PositioningOptions,\n  SelectionDetails,\n  Service,\n} from \"./menu.types\"\n","import { createAnatomy } from \"@zag-js/anatomy\"\n\nexport const anatomy = createAnatomy(\"menu\").parts(\n  \"arrow\",\n  \"arrowTip\",\n  \"content\",\n  \"contextTrigger\",\n  \"indicator\",\n  \"item\",\n  \"itemGroup\",\n  \"itemGroupLabel\",\n  \"itemIndicator\",\n  \"itemText\",\n  \"positioner\",\n  \"separator\",\n  \"trigger\",\n  \"triggerItem\",\n)\nexport const parts = anatomy.build()\n","import { mergeProps } from \"@zag-js/core\"\nimport {\n  clickIfLink,\n  getEventKey,\n  getEventPoint,\n  isContextMenuEvent,\n  isModifierKey,\n  isPrintableKey,\n  type EventKeyMap,\n} from \"@zag-js/dom-event\"\nimport {\n  dataAttr,\n  getEventTarget,\n  isDownloadingEvent,\n  isEditableElement,\n  isOpeningInNewTab,\n  isSelfTarget,\n  isValidTabEvent,\n} from \"@zag-js/dom-query\"\nimport { getPlacementStyles } from \"@zag-js/popper\"\nimport type { NormalizeProps, PropTypes } from \"@zag-js/types\"\nimport { parts } from \"./menu.anatomy\"\nimport { dom } from \"./menu.dom\"\nimport type { ItemProps, ItemState, MachineApi, OptionItemProps, OptionItemState, Send, State } from \"./menu.types\"\n\nexport function connect<T extends PropTypes>(state: State, send: Send, normalize: NormalizeProps<T>): MachineApi<T> {\n  const isSubmenu = state.context.isSubmenu\n  const isTypingAhead = state.context.isTypingAhead\n  const composite = state.context.composite\n\n  const open = state.hasTag(\"open\")\n\n  const popperStyles = getPlacementStyles({\n    ...state.context.positioning,\n    placement: state.context.anchorPoint ? \"bottom\" : state.context.currentPlacement,\n  })\n\n  function getItemState(props: ItemProps): ItemState {\n    return {\n      disabled: !!props.disabled,\n      highlighted: state.context.highlightedValue === props.value,\n    }\n  }\n\n  function getOptionItemProps(props: OptionItemProps) {\n    const valueText = props.valueText ?? props.value\n    return { ...props, id: props.value, valueText }\n  }\n\n  function getOptionItemState(props: OptionItemProps): OptionItemState {\n    const itemState = getItemState(getOptionItemProps(props))\n    return {\n      ...itemState,\n      checked: !!props.checked,\n    }\n  }\n\n  function getItemProps(props: ItemProps) {\n    const { value: id, closeOnSelect, valueText } = props\n    const itemState = getItemState(props)\n    return normalize.element({\n      ...parts.item.attrs,\n      id,\n      role: \"menuitem\",\n      \"aria-disabled\": itemState.disabled,\n      \"data-disabled\": dataAttr(itemState.disabled),\n      \"data-ownedby\": dom.getContentId(state.context),\n      \"data-highlighted\": dataAttr(itemState.highlighted),\n      \"data-valuetext\": valueText,\n      onDragStart(event) {\n        const isLink = event.currentTarget.matches(\"a[href]\")\n        if (isLink) event.preventDefault()\n      },\n      onPointerMove(event) {\n        if (itemState.disabled) return\n        if (event.pointerType !== \"mouse\") return\n        const target = event.currentTarget\n        if (itemState.highlighted) return\n        send({ type: \"ITEM_POINTERMOVE\", id, target, closeOnSelect })\n      },\n      onPointerLeave(event) {\n        if (itemState.disabled) return\n        if (event.pointerType !== \"mouse\") return\n\n        const pointerMoved = state.previousEvent.type.includes(\"POINTER\")\n        if (!pointerMoved) return\n\n        const target = event.currentTarget\n        send({ type: \"ITEM_POINTERLEAVE\", id, target, closeOnSelect })\n      },\n      onPointerDown(event) {\n        if (itemState.disabled) return\n        const target = event.currentTarget\n        send({ type: \"ITEM_POINTERDOWN\", target, id, closeOnSelect })\n      },\n      onClick(event) {\n        if (isDownloadingEvent(event)) return\n        if (isOpeningInNewTab(event)) return\n        if (itemState.disabled) return\n\n        const target = event.currentTarget\n        send({ type: \"ITEM_CLICK\", target, id, closeOnSelect })\n      },\n    })\n  }\n\n  return {\n    highlightedValue: state.context.highlightedValue,\n    open: open,\n    setOpen(nextOpen) {\n      if (nextOpen === open) return\n      send(nextOpen ? \"OPEN\" : \"CLOSE\")\n    },\n    setHighlightedValue(value) {\n      send({ type: \"HIGHLIGHTED.SET\", id: value })\n    },\n    setParent(parent) {\n      send({ type: \"PARENT.SET\", value: parent, id: parent.state.context.id })\n    },\n    setChild(child) {\n      send({ type: \"CHILD.SET\", value: child, id: child.state.context.id })\n    },\n    reposition(options = {}) {\n      send({ type: \"POSITIONING.SET\", options })\n    },\n\n    getContextTriggerProps() {\n      return normalize.element({\n        ...parts.contextTrigger.attrs,\n        dir: state.context.dir,\n        id: dom.getContextTriggerId(state.context),\n        onPointerDown(event) {\n          if (event.pointerType === \"mouse\") return\n          const point = getEventPoint(event)\n          send({ type: \"CONTEXT_MENU_START\", point })\n        },\n        onPointerCancel(event) {\n          if (event.pointerType === \"mouse\") return\n          send(\"CONTEXT_MENU_CANCEL\")\n        },\n        onPointerMove(event) {\n          if (event.pointerType === \"mouse\") return\n          send(\"CONTEXT_MENU_CANCEL\")\n        },\n        onPointerUp(event) {\n          if (event.pointerType === \"mouse\") return\n          send(\"CONTEXT_MENU_CANCEL\")\n        },\n        onContextMenu(event) {\n          const point = getEventPoint(event)\n          send({ type: \"CONTEXT_MENU\", point })\n          event.preventDefault()\n        },\n        style: {\n          WebkitTouchCallout: \"none\",\n          WebkitUserSelect: \"none\",\n          userSelect: \"none\",\n        },\n      })\n    },\n\n    getTriggerItemProps(childApi) {\n      return mergeProps(\n        getItemProps({ value: childApi.getTriggerProps().id }),\n        childApi.getTriggerProps(),\n      ) as T[\"element\"]\n    },\n\n    getTriggerProps() {\n      return normalize.button({\n        ...(isSubmenu ? parts.triggerItem.attrs : parts.trigger.attrs),\n        \"data-placement\": state.context.currentPlacement,\n        type: \"button\",\n        dir: state.context.dir,\n        id: dom.getTriggerId(state.context),\n        \"data-uid\": state.context.id,\n        \"aria-haspopup\": composite ? \"menu\" : \"dialog\",\n        \"aria-controls\": dom.getContentId(state.context),\n        \"aria-expanded\": open || undefined,\n        \"data-state\": open ? \"open\" : \"closed\",\n        onPointerMove(event) {\n          if (event.pointerType !== \"mouse\") return\n          const disabled = dom.isTargetDisabled(event.currentTarget)\n          if (disabled || !isSubmenu) return\n          send({ type: \"TRIGGER_POINTERMOVE\", target: event.currentTarget })\n        },\n        onPointerLeave(event) {\n          if (dom.isTargetDisabled(event.currentTarget)) return\n          if (event.pointerType !== \"mouse\") return\n          if (!isSubmenu) return\n          const point = getEventPoint(event)\n          send({ type: \"TRIGGER_POINTERLEAVE\", target: event.currentTarget, point })\n        },\n        onPointerDown(event) {\n          if (dom.isTargetDisabled(event.currentTarget)) return\n          if (isContextMenuEvent(event)) return\n          event.preventDefault()\n        },\n        onClick(event) {\n          if (event.defaultPrevented) return\n          if (dom.isTargetDisabled(event.currentTarget)) return\n          send({ type: \"TRIGGER_CLICK\", target: event.currentTarget })\n        },\n        onBlur() {\n          send(\"TRIGGER_BLUR\")\n        },\n        onFocus() {\n          send(\"TRIGGER_FOCUS\")\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          const keyMap: EventKeyMap = {\n            ArrowDown() {\n              send(\"ARROW_DOWN\")\n            },\n            ArrowUp() {\n              send(\"ARROW_UP\")\n            },\n            Enter() {\n              send({ type: \"ARROW_DOWN\", src: \"enter\" })\n            },\n            Space() {\n              send({ type: \"ARROW_DOWN\", src: \"space\" })\n            },\n          }\n\n          const key = getEventKey(event, state.context)\n          const exec = keyMap[key]\n\n          if (exec) {\n            event.preventDefault()\n            exec(event)\n          }\n        },\n      })\n    },\n\n    getIndicatorProps() {\n      return normalize.element({\n        ...parts.indicator.attrs,\n        dir: state.context.dir,\n        \"data-state\": open ? \"open\" : \"closed\",\n      })\n    },\n\n    getPositionerProps() {\n      return normalize.element({\n        ...parts.positioner.attrs,\n        dir: state.context.dir,\n        id: dom.getPositionerId(state.context),\n        style: popperStyles.floating,\n      })\n    },\n\n    getArrowProps() {\n      return normalize.element({\n        id: dom.getArrowId(state.context),\n        ...parts.arrow.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrow,\n      })\n    },\n\n    getArrowTipProps() {\n      return normalize.element({\n        ...parts.arrowTip.attrs,\n        dir: state.context.dir,\n        style: popperStyles.arrowTip,\n      })\n    },\n\n    getContentProps() {\n      return normalize.element({\n        ...parts.content.attrs,\n        id: dom.getContentId(state.context),\n        \"aria-label\": state.context[\"aria-label\"],\n        hidden: !open,\n        \"data-state\": open ? \"open\" : \"closed\",\n        role: composite ? \"menu\" : \"dialog\",\n        tabIndex: 0,\n        dir: state.context.dir,\n        \"aria-activedescendant\": state.context.highlightedValue ?? undefined,\n        \"aria-labelledby\": dom.getTriggerId(state.context),\n        \"data-placement\": state.context.currentPlacement,\n        onPointerEnter(event) {\n          if (event.pointerType !== \"mouse\") return\n          send(\"MENU_POINTERENTER\")\n        },\n        onKeyDown(event) {\n          if (event.defaultPrevented) return\n          if (!isSelfTarget(event)) return\n\n          const target = getEventTarget<Element>(event)\n\n          const sameMenu = target?.closest(\"[role=menu]\") === event.currentTarget || target === event.currentTarget\n          if (!sameMenu) return\n\n          if (event.key === \"Tab\") {\n            const valid = isValidTabEvent(event)\n            if (!valid) {\n              event.preventDefault()\n              return\n            }\n          }\n\n          const item = dom.getHighlightedItemEl(state.context)\n          const keyMap: EventKeyMap = {\n            ArrowDown() {\n              send(\"ARROW_DOWN\")\n            },\n            ArrowUp() {\n              send(\"ARROW_UP\")\n            },\n            ArrowLeft() {\n              send(\"ARROW_LEFT\")\n            },\n            ArrowRight() {\n              send(\"ARROW_RIGHT\")\n            },\n            Enter() {\n              send(\"ENTER\")\n              clickIfLink(item)\n            },\n            Space(event) {\n              if (isTypingAhead) {\n                send({ type: \"TYPEAHEAD\", key: event.key })\n              } else {\n                keyMap.Enter?.(event)\n              }\n            },\n            Home() {\n              send(\"HOME\")\n            },\n            End() {\n              send(\"END\")\n            },\n          }\n\n          const key = getEventKey(event, { dir: state.context.dir })\n          const exec = keyMap[key]\n\n          if (exec) {\n            exec(event)\n            event.stopPropagation()\n            event.preventDefault()\n            return\n          }\n\n          // typeahead\n          if (!state.context.typeahead) return\n          if (!isPrintableKey(event)) return\n          if (isModifierKey(event)) return\n          if (isEditableElement(target)) return\n\n          send({ type: \"TYPEAHEAD\", key: event.key })\n          event.preventDefault()\n        },\n      })\n    },\n\n    getSeparatorProps() {\n      return normalize.element({\n        ...parts.separator.attrs,\n        role: \"separator\",\n        dir: state.context.dir,\n        \"aria-orientation\": \"horizontal\",\n      })\n    },\n\n    getItemState,\n\n    getItemProps,\n\n    getOptionItemState,\n\n    getOptionItemProps(props) {\n      const { type, disabled, onCheckedChange, closeOnSelect } = props\n\n      const option = getOptionItemProps(props)\n      const itemState = getOptionItemState(props)\n\n      return {\n        ...getItemProps(option),\n        ...normalize.element({\n          \"data-type\": type,\n          ...parts.item.attrs,\n          dir: state.context.dir,\n          \"data-value\": option.value,\n          role: `menuitem${type}`,\n          \"aria-checked\": !!itemState.checked,\n          \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n          onClick(event) {\n            if (disabled) return\n            if (isDownloadingEvent(event)) return\n            if (isOpeningInNewTab(event)) return\n            const target = event.currentTarget\n            send({ type: \"ITEM_CLICK\", target, option, closeOnSelect })\n            onCheckedChange?.(!itemState.checked)\n          },\n        }),\n      }\n    },\n\n    getItemIndicatorProps(props) {\n      const itemState = getOptionItemState(props)\n      return normalize.element({\n        ...parts.itemIndicator.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n        hidden: !itemState.checked,\n      })\n    },\n\n    getItemTextProps(props) {\n      const itemState = getOptionItemState(props)\n      return normalize.element({\n        ...parts.itemText.attrs,\n        dir: state.context.dir,\n        \"data-disabled\": dataAttr(itemState.disabled),\n        \"data-highlighted\": dataAttr(itemState.highlighted),\n        \"data-state\": itemState.checked ? \"checked\" : \"unchecked\",\n      })\n    },\n\n    getItemGroupLabelProps(props) {\n      return normalize.element({\n        id: dom.getGroupLabelId(state.context, props.htmlFor),\n        dir: state.context.dir,\n        ...parts.itemGroupLabel.attrs,\n      })\n    },\n\n    getItemGroupProps(props) {\n      return normalize.element({\n        id: dom.getGroupId(state.context, props.id),\n        ...parts.itemGroup.attrs,\n        dir: state.context.dir,\n        \"aria-labelledby\": dom.getGroupLabelId(state.context, props.id),\n        role: \"group\",\n      })\n    },\n  }\n}\n","import { isHTMLElement, nextById, prevById, queryAll, getByTypeahead, createScope } from \"@zag-js/dom-query\"\nimport { first, last } from \"@zag-js/utils\"\nimport type { MachineContext as Ctx } from \"./menu.types\"\n\nexport const dom = createScope({\n  getTriggerId: (ctx: Ctx) => ctx.ids?.trigger ?? `menu:${ctx.id}:trigger`,\n  getContextTriggerId: (ctx: Ctx) => ctx.ids?.contextTrigger ?? `menu:${ctx.id}:ctx-trigger`,\n  getContentId: (ctx: Ctx) => ctx.ids?.content ?? `menu:${ctx.id}:content`,\n  getArrowId: (ctx: Ctx) => ctx.ids?.arrow ?? `menu:${ctx.id}:arrow`,\n  getPositionerId: (ctx: Ctx) => ctx.ids?.positioner ?? `menu:${ctx.id}:popper`,\n  getGroupId: (ctx: Ctx, id: string) => ctx.ids?.group?.(id) ?? `menu:${ctx.id}:group:${id}`,\n  getGroupLabelId: (ctx: Ctx, id: string) => ctx.ids?.groupLabel?.(id) ?? `menu:${ctx.id}:group-label:${id}`,\n\n  getContentEl: (ctx: Ctx) => dom.getById(ctx, dom.getContentId(ctx)),\n  getPositionerEl: (ctx: Ctx) => dom.getById(ctx, dom.getPositionerId(ctx)),\n  getTriggerEl: (ctx: Ctx) => dom.getById(ctx, dom.getTriggerId(ctx)),\n  getHighlightedItemEl: (ctx: Ctx) => (ctx.highlightedValue ? dom.getById(ctx, ctx.highlightedValue) : null),\n  getArrowEl: (ctx: Ctx) => dom.getById(ctx, dom.getArrowId(ctx)),\n\n  getElements: (ctx: Ctx) => {\n    const ownerId = CSS.escape(dom.getContentId(ctx))\n    const selector = `[role^=\"menuitem\"][data-ownedby=${ownerId}]:not([data-disabled])`\n    return queryAll(dom.getContentEl(ctx), selector)\n  },\n  getFirstEl: (ctx: Ctx) => first(dom.getElements(ctx)),\n  getLastEl: (ctx: Ctx) => last(dom.getElements(ctx)),\n  getNextEl: (ctx: Ctx, loop?: boolean) => nextById(dom.getElements(ctx), ctx.highlightedValue!, loop ?? ctx.loopFocus),\n  getPrevEl: (ctx: Ctx, loop?: boolean) => prevById(dom.getElements(ctx), ctx.highlightedValue!, loop ?? ctx.loopFocus),\n\n  getElemByKey: (ctx: Ctx, key: string) =>\n    getByTypeahead(dom.getElements(ctx), { state: ctx.typeaheadState, key, activeId: ctx.highlightedValue }),\n\n  isTargetDisabled: (v: EventTarget | null) => {\n    return isHTMLElement(v) && (v.dataset.disabled === \"\" || v.hasAttribute(\"disabled\"))\n  },\n  isTriggerItem: (el: HTMLElement | null) => {\n    return !!el?.getAttribute(\"role\")?.startsWith(\"menuitem\") && !!el?.hasAttribute(\"aria-controls\")\n  },\n\n  getOptionFromItemEl(el: HTMLElement) {\n    return {\n      id: el.id,\n      name: el.dataset.name,\n      value: el.dataset.value,\n      valueText: el.dataset.valueText,\n      type: el.dataset.type,\n    }\n  },\n})\n","import { createMachine, guards, ref } from \"@zag-js/core\"\nimport { trackDismissableElement } from \"@zag-js/dismissable\"\nimport { addDomEvent } from \"@zag-js/dom-event\"\nimport {\n  contains,\n  getByTypeahead,\n  getInitialFocus,\n  isEditableElement,\n  observeAttributes,\n  raf,\n  scrollIntoView,\n} from \"@zag-js/dom-query\"\nimport { getPlacement, getPlacementSide } from \"@zag-js/popper\"\nimport { getElementPolygon, isPointInPolygon } from \"@zag-js/rect-utils\"\nimport { cast, compact, isEqual } from \"@zag-js/utils\"\nimport { dom } from \"./menu.dom\"\nimport type { MachineContext, MachineState, UserDefinedContext } from \"./menu.types\"\n\nconst { not, and, or } = guards\n\nexport function machine(userContext: UserDefinedContext) {\n  const ctx = compact(userContext)\n  return createMachine<MachineContext, MachineState>(\n    {\n      id: \"menu\",\n      initial: ctx.open ? \"open\" : \"idle\",\n      context: {\n        highlightedValue: null,\n        loopFocus: false,\n        anchorPoint: null,\n        closeOnSelect: true,\n        typeahead: true,\n        composite: true,\n        ...ctx,\n        positioning: {\n          placement: \"bottom-start\",\n          gutter: 8,\n          ...ctx.positioning,\n        },\n        intentPolygon: null,\n        parent: null,\n        lastHighlightedValue: null,\n        children: cast(ref({})),\n        suspendPointer: false,\n        restoreFocus: true,\n        typeaheadState: getByTypeahead.defaultOptions,\n      },\n\n      computed: {\n        isSubmenu: (ctx) => ctx.parent !== null,\n        isRtl: (ctx) => ctx.dir === \"rtl\",\n        isTypingAhead: (ctx) => ctx.typeaheadState.keysSoFar !== \"\",\n      },\n\n      watch: {\n        isSubmenu: \"setSubmenuPlacement\",\n        anchorPoint: \"reposition\",\n        open: \"toggleVisibility\",\n      },\n\n      on: {\n        \"PARENT.SET\": {\n          actions: \"setParentMenu\",\n        },\n        \"CHILD.SET\": {\n          actions: \"setChildMenu\",\n        },\n        OPEN: [\n          {\n            guard: \"isOpenControlled\",\n            actions: \"invokeOnOpen\",\n          },\n          {\n            target: \"open\",\n            actions: \"invokeOnOpen\",\n          },\n        ],\n        OPEN_AUTOFOCUS: [\n          {\n            guard: \"isOpenControlled\",\n            actions: [\"invokeOnOpen\"],\n          },\n          {\n            internal: true,\n            target: \"open\",\n            actions: [\"highlightFirstItem\", \"invokeOnOpen\"],\n          },\n        ],\n        CLOSE: [\n          {\n            guard: \"isOpenControlled\",\n            actions: \"invokeOnClose\",\n          },\n          {\n            target: \"closed\",\n            actions: \"invokeOnClose\",\n          },\n        ],\n        \"HIGHLIGHTED.RESTORE\": {\n          actions: \"restoreHighlightedItem\",\n        },\n        \"HIGHLIGHTED.SET\": {\n          actions: \"setHighlightedItem\",\n        },\n      },\n\n      states: {\n        idle: {\n          tags: [\"closed\"],\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": \"closed\",\n            CONTEXT_MENU_START: {\n              target: \"opening:contextmenu\",\n              actions: \"setAnchorPoint\",\n            },\n            CONTEXT_MENU: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n              },\n            ],\n            TRIGGER_CLICK: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: \"invokeOnOpen\",\n              },\n            ],\n            TRIGGER_FOCUS: {\n              guard: not(\"isSubmenu\"),\n              target: \"closed\",\n            },\n            TRIGGER_POINTERMOVE: {\n              guard: \"isSubmenu\",\n              target: \"opening\",\n            },\n          },\n        },\n\n        \"opening:contextmenu\": {\n          tags: [\"closed\"],\n          after: {\n            LONG_PRESS_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: \"invokeOnOpen\",\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": \"closed\",\n            CONTEXT_MENU_CANCEL: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"closed\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n          },\n        },\n\n        opening: {\n          tags: [\"closed\"],\n          after: {\n            SUBMENU_OPEN_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: \"invokeOnOpen\",\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": \"closed\",\n            BLUR: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"closed\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n            TRIGGER_POINTERLEAVE: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"closed\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n          },\n        },\n\n        closing: {\n          tags: [\"open\"],\n          activities: [\"trackPointerMove\", \"trackInteractOutside\"],\n          after: {\n            SUBMENU_CLOSE_DELAY: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"invokeOnClose\"],\n              },\n              {\n                target: \"closed\",\n                actions: [\"focusParentMenu\", \"restoreParentHiglightedItem\", \"invokeOnClose\"],\n              },\n            ],\n          },\n          on: {\n            \"CONTROLLED.OPEN\": \"open\",\n            \"CONTROLLED.CLOSE\": {\n              target: \"closed\",\n              actions: [\"focusParentMenu\", \"restoreParentHiglightedItem\"],\n            },\n            // don't invoke on open here since the menu is still open (we're only keeping it open)\n            MENU_POINTERENTER: {\n              target: \"open\",\n              actions: \"clearIntentPolygon\",\n            },\n            POINTER_MOVED_AWAY_FROM_SUBMENU: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnClose\",\n              },\n              {\n                target: \"closed\",\n                actions: [\"focusParentMenu\", \"restoreParentHiglightedItem\"],\n              },\n            ],\n          },\n        },\n\n        closed: {\n          tags: [\"closed\"],\n          entry: [\"clearHighlightedItem\", \"focusTrigger\", \"resumePointer\"],\n          on: {\n            \"CONTROLLED.OPEN\": [\n              {\n                guard: or(\"isOpenAutoFocusEvent\", \"isArrowDownEvent\"),\n                target: \"open\",\n                actions: \"highlightFirstItem\",\n              },\n              {\n                guard: \"isArrowUpEvent\",\n                target: \"open\",\n                actions: \"highlightLastItem\",\n              },\n              {\n                target: \"open\",\n              },\n            ],\n            CONTEXT_MENU_START: {\n              target: \"opening:contextmenu\",\n              actions: \"setAnchorPoint\",\n            },\n            CONTEXT_MENU: [\n              {\n                guard: \"isOpenControlled\",\n                actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n              },\n              {\n                target: \"open\",\n                actions: [\"setAnchorPoint\", \"invokeOnOpen\"],\n              },\n            ],\n            TRIGGER_CLICK: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: \"invokeOnOpen\",\n              },\n            ],\n            TRIGGER_POINTERMOVE: {\n              guard: \"isTriggerItem\",\n              target: \"opening\",\n            },\n            TRIGGER_BLUR: \"idle\",\n            ARROW_DOWN: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: [\"highlightFirstItem\", \"invokeOnOpen\"],\n              },\n            ],\n            ARROW_UP: [\n              {\n                guard: \"isOpenControlled\",\n                actions: \"invokeOnOpen\",\n              },\n              {\n                target: \"open\",\n                actions: [\"highlightLastItem\", \"invokeOnOpen\"],\n              },\n            ],\n          },\n        },\n\n        open: {\n          tags: [\"open\"],\n          activities: [\"trackInteractOutside\", \"trackPositioning\", \"scrollToHighlightedItem\"],\n          entry: [\"focusMenu\", \"resumePointer\"],\n          on: {\n            \"CONTROLLED.CLOSE\": [\n              {\n                target: \"closed\",\n                guard: \"isArrowLeftEvent\",\n                actions: [\"focusParentMenu\"],\n              },\n              {\n                target: \"closed\",\n              },\n            ],\n            TRIGGER_CLICK: [\n              {\n                guard: and(not(\"isTriggerItem\"), \"isOpenControlled\"),\n                actions: \"invokeOnClose\",\n              },\n              {\n                guard: not(\"isTriggerItem\"),\n                target: \"closed\",\n                actions: \"invokeOnClose\",\n              },\n            ],\n            ARROW_UP: {\n              actions: [\"highlightPrevItem\", \"focusMenu\"],\n            },\n            ARROW_DOWN: {\n              actions: [\"highlightNextItem\", \"focusMenu\"],\n            },\n            ARROW_LEFT: [\n              {\n                guard: and(\"isSubmenu\", \"isOpenControlled\"),\n                actions: \"invokeOnClose\",\n              },\n              {\n                guard: \"isSubmenu\",\n                target: \"closed\",\n                actions: [\"focusParentMenu\", \"invokeOnClose\"],\n              },\n            ],\n            HOME: {\n              actions: [\"highlightFirstItem\", \"focusMenu\"],\n            },\n            END: {\n              actions: [\"highlightLastItem\", \"focusMenu\"],\n            },\n            ARROW_RIGHT: {\n              guard: \"isTriggerItemHighlighted\",\n              actions: \"openSubmenu\",\n            },\n            ENTER: [\n              {\n                guard: \"isTriggerItemHighlighted\",\n                actions: \"openSubmenu\",\n              },\n              {\n                actions: \"clickHighlightedItem\",\n              },\n            ],\n            ITEM_POINTERMOVE: [\n              {\n                guard: not(\"suspendPointer\"),\n                actions: [\"setHighlightedItem\", \"focusMenu\"],\n              },\n              {\n                actions: \"setLastHighlightedItem\",\n              },\n            ],\n            ITEM_POINTERLEAVE: {\n              guard: and(not(\"suspendPointer\"), not(\"isTriggerItem\")),\n              actions: \"clearHighlightedItem\",\n            },\n            ITEM_CLICK: [\n              // == grouped ==\n              {\n                guard: and(\n                  not(\"isTriggerItemHighlighted\"),\n                  not(\"isHighlightedItemEditable\"),\n                  \"closeOnSelect\",\n                  \"isOpenControlled\",\n                ),\n                actions: [\"invokeOnSelect\", \"setOptionState\", \"closeRootMenu\", \"invokeOnClose\"],\n              },\n              {\n                guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\"), \"closeOnSelect\"),\n                target: \"closed\",\n                actions: [\"invokeOnSelect\", \"setOptionState\", \"closeRootMenu\", \"invokeOnClose\"],\n              },\n              //\n              {\n                guard: and(not(\"isTriggerItemHighlighted\"), not(\"isHighlightedItemEditable\")),\n                actions: [\"invokeOnSelect\", \"setOptionState\"],\n              },\n              { actions: \"setHighlightedItem\" },\n            ],\n            TRIGGER_POINTERLEAVE: {\n              target: \"closing\",\n              actions: \"setIntentPolygon\",\n            },\n            ITEM_POINTERDOWN: {\n              actions: \"setHighlightedItem\",\n            },\n            TYPEAHEAD: {\n              actions: \"highlightMatchedItem\",\n            },\n            FOCUS_MENU: {\n              actions: \"focusMenu\",\n            },\n            \"POSITIONING.SET\": {\n              actions: \"reposition\",\n            },\n          },\n        },\n      },\n    },\n    {\n      delays: {\n        LONG_PRESS_DELAY: 700,\n        SUBMENU_OPEN_DELAY: 100,\n        SUBMENU_CLOSE_DELAY: 100,\n      },\n\n      guards: {\n        closeOnSelect: (ctx, evt) => !!(evt?.closeOnSelect ?? ctx.closeOnSelect),\n        // whether the trigger is also a menu item\n        isTriggerItem: (_ctx, evt) => dom.isTriggerItem(evt.target),\n        // whether the trigger item is the active item\n        isTriggerItemHighlighted: (ctx, evt) => {\n          const target = (evt.target ?? dom.getHighlightedItemEl(ctx)) as HTMLElement | null\n          return !!target?.hasAttribute(\"aria-controls\")\n        },\n        isSubmenu: (ctx) => ctx.isSubmenu,\n        suspendPointer: (ctx) => ctx.suspendPointer,\n        isHighlightedItemEditable: (ctx) => isEditableElement(dom.getHighlightedItemEl(ctx)),\n        isWithinPolygon: (ctx, evt) => {\n          if (!ctx.intentPolygon) return false\n          return isPointInPolygon(ctx.intentPolygon, evt.point)\n        },\n        // guard assertions (for controlled mode)\n        isOpenControlled: (ctx) => !!ctx[\"open.controlled\"],\n        isArrowLeftEvent: (_ctx, evt) => evt.previousEvent?.type === \"ARROW_LEFT\",\n        isArrowUpEvent: (_ctx, evt) => evt.previousEvent?.type === \"ARROW_UP\",\n        isArrowDownEvent: (_ctx, evt) => evt.previousEvent?.type === \"ARROW_DOWN\",\n        isOpenAutoFocusEvent: (_ctx, evt) => evt.previousEvent?.type === \"OPEN_AUTOFOCUS\",\n      },\n\n      activities: {\n        trackPositioning(ctx) {\n          if (ctx.anchorPoint) return\n          ctx.currentPlacement = ctx.positioning.placement\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          return getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        trackInteractOutside(ctx, _evt, { send }) {\n          const getContentEl = () => dom.getContentEl(ctx)\n          return trackDismissableElement(getContentEl, {\n            defer: true,\n            exclude: [dom.getTriggerEl(ctx)],\n            onInteractOutside: ctx.onInteractOutside,\n            onFocusOutside: ctx.onFocusOutside,\n            onEscapeKeyDown(event) {\n              ctx.onEscapeKeyDown?.(event)\n              if (ctx.isSubmenu) event.preventDefault()\n              closeRootMenu(ctx)\n            },\n            onPointerDownOutside(event) {\n              ctx.restoreFocus = !event.detail.focusable\n              ctx.onPointerDownOutside?.(event)\n            },\n            onDismiss() {\n              send({ type: \"CLOSE\", src: \"interact-outside\" })\n            },\n          })\n        },\n        trackPointerMove(ctx, _evt, { guards, send }) {\n          const { isWithinPolygon } = guards\n\n          // NOTE: we're mutating parent context here. sending events to parent doesn't work\n          ctx.parent!.state.context.suspendPointer = true\n\n          const doc = dom.getDoc(ctx)\n\n          return addDomEvent(doc, \"pointermove\", (e) => {\n            const point = { x: e.clientX, y: e.clientY }\n\n            const isMovingToSubmenu = isWithinPolygon(ctx, { point })\n\n            if (!isMovingToSubmenu) {\n              send(\"POINTER_MOVED_AWAY_FROM_SUBMENU\")\n              // NOTE: we're mutating parent context here. sending events to parent doesn't work\n              ctx.parent!.state.context.suspendPointer = false\n            }\n          })\n        },\n        scrollToHighlightedItem(ctx, _evt, { getState }) {\n          const exec = () => {\n            const state = getState()\n\n            if (state.event.type.startsWith(\"ITEM_POINTER\")) return\n\n            const itemEl = dom.getHighlightedItemEl(ctx)\n            const contentEl = dom.getContentEl(ctx)\n\n            scrollIntoView(itemEl, { rootEl: contentEl, block: \"nearest\" })\n          }\n          raf(() => exec())\n\n          const contentEl = () => dom.getContentEl(ctx)\n          return observeAttributes(contentEl, {\n            defer: true,\n            attributes: [\"aria-activedescendant\"],\n            callback: exec,\n          })\n        },\n      },\n\n      actions: {\n        setAnchorPoint(ctx, evt) {\n          ctx.anchorPoint = evt.point\n        },\n        setSubmenuPlacement(ctx) {\n          if (!ctx.isSubmenu) return\n          ctx.positioning.placement = ctx.isRtl ? \"left-start\" : \"right-start\"\n          ctx.positioning.gutter = 0\n        },\n        reposition(ctx, evt) {\n          const getPositionerEl = () => dom.getPositionerEl(ctx)\n          const getAnchorRect = ctx.anchorPoint ? () => ({ width: 0, height: 0, ...ctx.anchorPoint }) : undefined\n          getPlacement(dom.getTriggerEl(ctx), getPositionerEl, {\n            ...ctx.positioning,\n            defer: true,\n            getAnchorRect,\n            ...(evt.options ?? {}),\n            listeners: false,\n            onComplete(data) {\n              ctx.currentPlacement = data.placement\n            },\n          })\n        },\n        setOptionState(_ctx, evt) {\n          if (!evt.option) return\n          const { checked, onCheckedChange, type } = evt.option\n\n          if (type === \"radio\") {\n            onCheckedChange?.(true)\n          } else if (type === \"checkbox\") {\n            onCheckedChange?.(!checked)\n          }\n        },\n        clickHighlightedItem(ctx, _evt) {\n          const itemEl = dom.getHighlightedItemEl(ctx)\n          if (!itemEl || itemEl.dataset.disabled) return\n          queueMicrotask(() => itemEl.click())\n        },\n        setIntentPolygon(ctx, evt) {\n          const menu = dom.getContentEl(ctx)\n          const placement = ctx.currentPlacement\n\n          if (!menu || !placement) return\n\n          const rect = menu.getBoundingClientRect()\n          const polygon = getElementPolygon(rect, placement)\n          if (!polygon) return\n\n          const rightSide = getPlacementSide(placement) === \"right\"\n          const bleed = rightSide ? -5 : +5\n\n          ctx.intentPolygon = [{ ...evt.point, x: evt.point.x + bleed }, ...polygon]\n        },\n        clearIntentPolygon(ctx) {\n          ctx.intentPolygon = null\n        },\n        resumePointer(ctx) {\n          if (!ctx.parent) return\n          ctx.parent.state.context.suspendPointer = false\n        },\n        setHighlightedItem(ctx, evt) {\n          set.highlighted(ctx, evt.id)\n        },\n        clearHighlightedItem(ctx) {\n          set.highlighted(ctx, null)\n        },\n        focusMenu(ctx) {\n          raf(() => {\n            const contentEl = dom.getContentEl(ctx)\n            const initialFocusEl = getInitialFocus({\n              root: contentEl,\n              enabled: !contains(contentEl, dom.getActiveElement(ctx)),\n              filter(node) {\n                return !node.role?.startsWith(\"menuitem\")\n              },\n            })\n            initialFocusEl?.focus({ preventScroll: true })\n          })\n        },\n        highlightFirstItem(ctx) {\n          const first = dom.getFirstEl(ctx)\n          if (!first) return\n          set.highlighted(ctx, first.id)\n        },\n        highlightLastItem(ctx) {\n          const last = dom.getLastEl(ctx)\n          if (!last) return\n          set.highlighted(ctx, last.id)\n        },\n        highlightNextItem(ctx, evt) {\n          const next = dom.getNextEl(ctx, evt.loop)\n          set.highlighted(ctx, next?.id ?? null)\n        },\n        highlightPrevItem(ctx, evt) {\n          const prev = dom.getPrevEl(ctx, evt.loop)\n          set.highlighted(ctx, prev?.id ?? null)\n        },\n        invokeOnSelect(ctx) {\n          if (!ctx.highlightedValue) return\n          ctx.onSelect?.({ value: ctx.highlightedValue })\n        },\n        focusTrigger(ctx) {\n          if (ctx.isSubmenu || ctx.anchorPoint || !ctx.restoreFocus) return\n          queueMicrotask(() => dom.getTriggerEl(ctx)?.focus({ preventScroll: true }))\n        },\n        highlightMatchedItem(ctx, evt) {\n          const node = dom.getElemByKey(ctx, evt.key)\n          if (!node) return\n          set.highlighted(ctx, node.id)\n        },\n        setParentMenu(ctx, evt) {\n          ctx.parent = ref(evt.value)\n        },\n        setChildMenu(ctx, evt) {\n          ctx.children[evt.id] = ref(evt.value)\n        },\n        closeRootMenu(ctx) {\n          closeRootMenu(ctx)\n        },\n        openSubmenu(ctx) {\n          const item = dom.getHighlightedItemEl(ctx)\n          const id = item?.getAttribute(\"data-uid\")\n          const child = id ? ctx.children[id] : null\n          child?.send(\"OPEN_AUTOFOCUS\")\n        },\n        focusParentMenu(ctx) {\n          ctx.parent?.send(\"FOCUS_MENU\")\n        },\n        setLastHighlightedItem(ctx, evt) {\n          ctx.lastHighlightedValue = evt.id\n        },\n        restoreHighlightedItem(ctx) {\n          if (!ctx.lastHighlightedValue) return\n          set.highlighted(ctx, ctx.lastHighlightedValue)\n          ctx.lastHighlightedValue = null\n        },\n        restoreParentHiglightedItem(ctx) {\n          ctx.parent?.send(\"HIGHLIGHTED.RESTORE\")\n        },\n        invokeOnOpen(ctx) {\n          ctx.onOpenChange?.({ open: true })\n        },\n        invokeOnClose(ctx) {\n          ctx.onOpenChange?.({ open: false })\n        },\n        toggleVisibility(ctx, evt, { send }) {\n          send({ type: ctx.open ? \"CONTROLLED.OPEN\" : \"CONTROLLED.CLOSE\", previousEvent: evt })\n        },\n      },\n    },\n  )\n}\n\nfunction closeRootMenu(ctx: MachineContext) {\n  let parent = ctx.parent\n  while (parent && parent.state.context.isSubmenu) {\n    parent = parent.state.context.parent\n  }\n  parent?.send(\"CLOSE\")\n}\n\nconst set = {\n  highlighted(ctx: MachineContext, value: string | null) {\n    if (isEqual(ctx.highlightedValue, value)) return\n    ctx.highlightedValue = value\n    ctx.onHighlightChange?.({ highlightedValue: value })\n  },\n}\n","import { createProps } from \"@zag-js/types\"\nimport { createSplitProps } from \"@zag-js/utils\"\nimport type { ItemGroupLabelProps, ItemGroupProps, ItemProps, OptionItemProps, UserDefinedContext } from \"./menu.types\"\n\nexport const props = createProps<UserDefinedContext>()([\n  \"anchorPoint\",\n  \"aria-label\",\n  \"closeOnSelect\",\n  \"dir\",\n  \"getRootNode\",\n  \"highlightedValue\",\n  \"id\",\n  \"ids\",\n  \"loopFocus\",\n  \"onFocusOutside\",\n  \"onInteractOutside\",\n  \"onOpenChange\",\n  \"onPointerDownOutside\",\n  \"onEscapeKeyDown\",\n  \"onSelect\",\n  \"onHighlightChange\",\n  \"open\",\n  \"open.controlled\",\n  \"positioning\",\n  \"typeahead\",\n  \"composite\",\n])\n\nexport const splitProps = createSplitProps<Partial<UserDefinedContext>>(props)\n\nexport const itemProps = createProps<ItemProps>()([\"closeOnSelect\", \"disabled\", \"value\", \"valueText\"])\nexport const splitItemProps = createSplitProps<ItemProps>(itemProps)\n\nexport const itemGroupLabelProps = createProps<ItemGroupLabelProps>()([\"htmlFor\"])\nexport const splitItemGroupLabelProps = createSplitProps<ItemGroupLabelProps>(itemGroupLabelProps)\n\nexport const itemGroupProps = createProps<ItemGroupProps>()([\"id\"])\nexport const splitItemGroupProps = createSplitProps<ItemGroupProps>(itemGroupProps)\n\nexport const optionItemProps = createProps<OptionItemProps>()([\n  \"disabled\",\n  \"valueText\",\n  \"closeOnSelect\",\n  \"type\",\n  \"value\",\n  \"checked\",\n  \"onCheckedChange\",\n])\n\nexport const splitOptionItemProps = createSplitProps<OptionItemProps>(optionItemProps)\n"],"mappings":"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","names":["import_dom_query","props","event","import_core","import_dom_event","import_dom_query","import_popper","import_utils","ctx","guards","contentEl","first","last","import_utils"]}