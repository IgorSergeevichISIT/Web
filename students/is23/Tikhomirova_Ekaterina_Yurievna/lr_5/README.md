# Лабораторная работа №5. Веб-приложение с VK API (Fetch API)

**Вариант:** 2  

---

## Цель работы
Замена устаревшего `XMLHttpRequest` на современный `Fetch API` в веб-приложении для работы с VK API. Изучение промисов (`Promise`), синтаксиса `async/await` и улучшение обработки асинхронных операций.

---

## Теоретическая часть

### Promise (Промисы)
- **Асинхронные операции** — операции, которые выполняются не сразу, а через некоторое время
- **Три состояния промиса:**
    1. `Pending` (ожидание)
    2. `Fulfilled` (успешно выполнено)
    3. `Rejected` (выполнено с ошибкой)
- **Методы обработки:** `.then()`, `.catch()`, `.finally()`

### Async/Await
- "Синтаксический сахар" для работы с промисами
- `async` — указывает, что функция возвращает промис
- `await` — ожидает выполнения промиса
- Более читаемый и понятный код по сравнению с цепочками `.then()`

### Fetch API
- Современная замена `XMLHttpRequest`
- Возвращает промис
- Более чистый и удобный API
- Встроенная поддержка JSON

---

## Практическая реализация

### Архитектурные изменения
1. **Переписан модуль работы с API:**
    - Полностью заменен `XMLHttpRequest` на `Fetch API`
    - Добавлена обработка ошибок через `try-catch`
    - Улучшена читаемость кода с использованием `async/await`

2. **Обновлены страницы приложения:**
    - Главная страница (`pages/main/index.js`)
    - Страница пользователя (`pages/user/index.js`)
    - Все компоненты переведены на работу с промисами

3. **Реализована обработка ошибок:**
    - Сетевые ошибки
    - Ошибки API VK
    - Ошибки парсинга JSON

### Ключевые особенности реализации
- **Компонент фильтра (по варианту 2):**
    - Фильтрация пользователей по типу: администраторы, редакторы, модераторы
    - Динамическое обновление списка при изменении фильтра
    - Сохранение состояния фильтра

- **Асинхронные операции:**
    - Параллельная загрузка данных
    - Последовательная обработка
    - Обработка ошибок на каждом уровне

---

## Инструкция по запуску

### 1. Установка зависимостей
```bash
npm install
```

### 2. Настройка VK API
В файле modules/consts.js укажите:

```bash
export const accessToken = 'ВАШ_ТОКЕН_VK_API';
export const groupId = 'ID_ВАШЕГО_СООБЩЕСТВА';
```

### 3. Запуск приложения
Установите Live Server и запустите его.
