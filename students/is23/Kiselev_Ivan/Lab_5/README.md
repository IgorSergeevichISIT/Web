
# Лабораторная работа 5: Взаимодействие с VK API через `fetch`

**Цель:** Модернизация клиентского кода — замена устаревшего `XMLHttpRequest` на современный API `fetch` с использованием `async/await`. Освоение работы с промисами и асинхронным программированием в JavaScript.

---

## Что изменено по сравнению с ЛР 4

**Полностью переписан модуль `ajax.js`**
— Удалён класс `Ajax` с `XMLHttpRequest`
— Внедрён новый метод `post(url)`, использующий `fetch` с явной отправкой пустого тела (`body: ''`) для корректной работы с VK API
— Добавлена обработка HTTP-статусов через `response.ok`

**Обновлена логика страниц**
— Методы `loadMembers()` в `MainPage.js` и `render()` в `UserPage.js` переписаны под `async/await`
— Убраны колбэки — теперь запросы читаются последовательно
— Обработка ошибок унифицирована через `try...catch`

**Улучшена надёжность запросов**
— Явное указание `body: ''` гарантирует, что браузер отправляет валидный POST-запрос (требование VK API)
— Автоматическая проверка `response.ok` предотвращает обработку ошибочных ответов (404, 500 и т.п.)

**Сохранена обратная совместимость архитектуры**
— Структура проекта, компоненты и модули остались без изменений
— Функционал (сортировка, навигация, отображение данных) полностью сохранён

---

## Преимущества нового подхода

* Код стал **чище, короче и легче поддерживать**
* **Устранён «callback hell» при цепочке запросов (сначала ID → потом данные)**
* Лучшая **обработка ошибок** через привычные `try/catch`
* Соответствие **современным стандартам** веб-разработки

> Проект по-прежнему использует **нативные ES-модули** и  **не требует сборки.**

---

Остальные разделы (структура, запуск, настройка VK, функционал, примечания) **полностью совпадают с ЛР 4** и не требуют повторного описания.
