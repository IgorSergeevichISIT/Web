
* Что происходит, когда пользователь вводит URL в браузере?
* Что такое Same Origin Policy и почему она важна?
* Что такое CORS и зачем он нужен?
* Что такое preflight-запрос и когда он выполняется?
* Что такое cookies и как они работают при запросах?
* Чем отличаются DOM, CSSOM и Render Tree?
* Что такое AJAX и какие данные можно передавать через XHR / fetch?
* Что такое MIME-типы и зачем они нужны?
* Что такое JSON и почему он стал стандартом обмена данными?
* Что такое TCP-рукопожатие и как устанавливается соединение?

# Отчёт: Основы веб-технологий и сетевого взаимодействия

## 1. Что происходит, когда пользователь вводит URL в браузере?

1. **Парсинг URL**: браузер извлекает протокол, домен, порт и путь.
2. **Проверка кэша DNS**: если домен недавно разрешался — IP берётся из кэша.
3. **DNS-запрос**: если домен не закэширован, браузер запрашивает IP-адрес у DNS-сервера.
4. **TCP-соединение**: устанавливается соединение с сервером по протоколу TCP (включая трёхэтапное рукопожатие).
5. **TLS-рукопожатие** (если HTTPS): шифрование сессии с использованием SSL/TLS.
6. **HTTP-запрос**: браузер отправляет GET-запрос на сервер.
7. **Получение ответа**: сервер возвращает HTML-документ и HTTP-заголовки.
8. **Обработка и рендеринг**: браузер парсит HTML, строит DOM, загружает CSS/JS, строит CSSOM и Render Tree, выполняет layout и paint.

---

## 2. Что такое Same Origin Policy и почему она важна?

**Same Origin Policy (SOP)** — это механизм безопасности браузера, который **запрещает скриптам одного источника (origin) взаимодействовать с ресурсами другого источника**.

- **Origin** определяется как комбинация: `протокол + домен + порт`.
- **Цель**: предотвратить кражу данных (например, через XSS), доступ к cookies, localStorage и другим чувствительным ресурсам межсайтовыми скриптами.
- **Пример**: скрипт с `https://site-a.com` не может читать ответ от `https://site-b.com` через `fetch`, если не разрешено явно.

---

## 3. Что такое CORS и зачем он нужен?

**CORS (Cross-Origin Resource Sharing)** — это механизм, основанный на HTTP-заголовках, который **разрешает браузеру выполнять кросс-доменные запросы**, безопасно и контролируемо.

- Обходит ограничения SOP **по согласию сервера**.
- Сервер должен отправить заголовок `Access-Control-Allow-Origin`, указав, какие источники могут получить доступ к ресурсу.
- **Пример**: API на `api.example.com` может разрешить запросы с `app.example.com` через заголовок:
  `Access-Control-Allow-Origin: https://app.example.com`.

---

## 4. Что такое preflight-запрос и когда он выполняется?

**Preflight-запрос** — это **автоматический OPTIONS-запрос**, который браузер отправляет **перед** «настоящим» CORS-запросом, чтобы проверить, разрешён ли он сервером.

Выполняется, если запрос **небезопасный**, т.е.:

- Использует HTTP-методы, кроме `GET`, `POST`, `HEAD`;
- Имеет **нестандартные заголовки** (например, `Authorization`, `Content-Type: application/json`);
- Использует `Content-Type`, отличный от:
  - `application/x-www-form-urlencoded`,
  - `multipart/form-data`,
  - `text/plain`.

Сервер отвечает заголовками вроде:

- `Access-Control-Allow-Methods`
- `Access-Control-Allow-Headers`

Если preflight успешен — браузер отправляет основной запрос.

---

## 5. Что такое cookies и как они работают при запросах?

**Cookies** — это небольшие фрагменты данных, которые сервер отправляет браузеру через заголовок `Set-Cookie`. Браузер **автоматически прикрепляет** соответствующие cookies к последующим запросам на тот же origin.

- **Назначение**: аутентификация, сессии, персонализация.
- При запросах через `fetch` или `XMLHttpRequest` cookies **не отправляются по умолчанию**.
- Чтобы включить:
  ```js
  fetch(url, { credentials: 'include' })
  ```
- На стороне сервера для CORS необходимо:
  `Access-Control-Allow-Credentials: true`
  и явно указать origin (нельзя использовать `*`).

---

## 6. Чем отличаются DOM, CSSOM и Render Tree?

| Структура                    | Описание                                                                                                                                                                                                         |
| ------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **DOM** (Document Object Model) | Дерево объектов, построенное из HTML-документа. Представляет структуру страницы.                                                                        |
| **CSSOM** (CSS Object Model)    | Дерево стилей, построенное из CSS-правил. Определяет, как элементы должны выглядеть.                                                                  |
| **Render Tree**                 | Комбинация DOM и CSSOM. Содержит только видимые элементы (без `display: none`, `<head>`, скриптов). Используется для layout и отрисовки. |

> ⚠️ Render Tree = DOM + CSSOM – невидимые элементы.

---

## 7. Что такое AJAX и какие данные можно передавать через XHR / fetch?

**AJAX (Asynchronous JavaScript and XML)** — подход к созданию **асинхронных веб-приложений**, позволяющий обновлять части страницы без перезагрузки.

- Реализуется через `XMLHttpRequest` или современный `fetch()`.
- **Поддерживаемые форматы данных**:
  - JSON (наиболее распространён)
  - XML
  - Текст (`text/plain`)
  - HTML
  - Бинарные данные (`Blob`, `ArrayBuffer`)
  - Формы (`FormData`)

> Примечание: Название «XML» устарело — сегодня AJAX чаще всего работает с JSON.

---

## 8. Что такое MIME-типы и зачем они нужны?

**MIME-тип (Multipurpose Internet Mail Extensions)** — это стандарт, указывающий **тип содержимого** передаваемого по сети.

- Формат: `тип/подтип` (например, `text/html`, `application/json`, `image/png`).
- Передаётся в HTTP-заголовке `Content-Type`.
- **Назначение**:
  - Браузер понимает, как обрабатывать данные (отобразить как HTML, распарсить как JSON, показать как изображение).
  - Сервер и клиент согласуют формат обмена.

Примеры:

- `application/json` → JSON-данные
- `text/css` → таблица стилей
- `multipart/form-data` → загрузка файлов

---

## 9. Что такое JSON и почему он стал стандартом обмена данными?

**JSON (JavaScript Object Notation)** — это **лёгкий текстовый формат** для представления структурированных данных.

- Синтаксис основан на JavaScript, но язык-независим.
- Поддерживает: объекты, массивы, строки, числа, булевы значения, `null`.
- **Преимущества**:
  - Простота чтения и записи (для человека и машины).
  - Нативная поддержка в JavaScript (`JSON.parse`, `JSON.stringify`).
  - Компактнее XML.
  - Поддерживается всеми современными языками и платформами.
- Стал стандартом **де-факто** для API и обмена данными между клиентом и сервером.

---

## 10. Что такое TCP-рукопожатие и как устанавливается соединение?

**TCP-рукопожатие (Three-way handshake)** — это процесс установки надёжного соединения между клиентом и сервером по протоколу TCP.

Этапы:

1. **SYN**: клиент → сервер: `SYN=1, seq=x`
2. **SYN-ACK**: сервер → клиент: `SYN=1, ACK=1, seq=y, ack=x+1`
3. **ACK**: клиент → сервер: `ACK=1, seq=x+1, ack=y+1`

После этого соединение **установлено**, и может начаться передача данных.

- Гарантирует, что обе стороны готовы к обмену.
- Обеспечивает надёжность, порядок и контроль потока.

> Используется перед каждым HTTP/HTTPS-запросом (если нет keep-alive или HTTP/2).
